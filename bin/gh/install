#!/bin/bash

set -euo pipefail

shopt -s failglob

. "${PROFILE_DIR}"/bin/sh/shell_fns --source-only

app_name="gh"

if cmd_test_or_install $app_name -eq 0; then
    echo "Already installed!"
else
    install_messages "start" "$app_name"
fi


if cmd_test_or_install $app_name -eq 0; then
    echo "Already installed; upgrading!"

    case "${MACHINE}" in
        Linux)  echo "Linux install instructions here";;
        Mac)    brew upgrade gh;;
        *)      echo "Unknown '${MACHINE=}'";;
    esac
else
    install_messages "start" "$app_name"

    case "${MACHINE}" in
        Linux)  echo "Linux install instructions here";;
        Mac)    brew install gh;;
        *)      echo "Unknown '${MACHINE=}'";;
    esac

    case "${ARCH}" in
        aarch64)  echo "aarch64 architecture specific install instructions here";;
        *)      echo "Generic install instructions here";;
    esac

    install_messages "end" "$app_name"
fi


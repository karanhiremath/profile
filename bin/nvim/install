#!/bin/bash

set -euo pipefail

shopt -s failglob

. "${PROFILE_DIR}"/bin/sh/shell_fns --source-only

app_name="nvim"
nvim_version="v0.9.5"
bob_install_location="~/.local/share/bob/nvim-bin"

MACHINE="$(uname -s)"
ARCH="$(uname -m)"

install_messages "start" "$app_name"

case "${MACHINE}" in
    *)      
        echo "Install bob"
        cargo install bob-nvim
        export PATH=$PATH:~/.cargo/bin/bob:${bob_install_location}
        ~/.cargo/bin/bob use "${nvim_version}"
    ;;
esac

case "${ARCH}" in
    aarch64)  echo "aarch64 architecture specific install instructions here";;
    *)      echo "Generic install instructions here";;
esac

install_messages "end" "$app_name"
